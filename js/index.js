"use strict";require(["config"],function(){require(["jquery","template","header","banner","footer"],function(a,t,o){new Promise(function(o,e){a("header").load("/html/component/header.html",function(){o()}),a("footer").load("/html/component/footer.html",function(){a(".goTop").gotoTop()}),a.ajax({method:"get",dataType:"json",url:"http://localhost/project/app/php/api/index.php",success:function(o){var e=t("pro-pic",{_url:o});a("#pic").html(e)},complete:function(){a(".banner").lunbo()}})}).then(function(){o.isLogin(),a(".index").addClass("nowPage")}).then(function(){a.ajax({method:"get",url:"http://rap2api.taobao.org/app/mock/116941/example/1541755441804",success:function(o){console.log(o);var e=t("pro-template",{src:o.images});a(".main").html(e)},complete:function(){var i=!0;a("#step li").click(function(){i=!1,a(this).addClass("ac").siblings().removeClass("ac");var o=a(this).index(),e=a(".floor").eq(o).offset().top-40;a("html,body").stop(!0).animate({scrollTop:e},function(){i=!0})}),a(window).scroll(function(){if(i){var o=a(window).innerHeight()/2,e=a(window).scrollTop(),t=a(".floor").size();e>=a(".floor").eq(0).offset().top-40?a("#step").show():a("#step").hide();for(var n=0;n<t;n++){a(".floor")[n].offsetTop-e<o&&a("#step li").eq(n).addClass("ac").siblings().removeClass("ac")}}})}})}).then(function(){})})});